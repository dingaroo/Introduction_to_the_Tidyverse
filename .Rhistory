#install.packages("gapminder")
library(gapminder)
library(dplyr)
gapminder #show the dataset
#filter verb
gapminder %>% filter(year == 2007)
#filter observations from United States
gapminder %>% filter(country == "United States")
#multiple conditions - resulting in a single observation
gapminder %>% filter(year == 2007, country == "United States")
#arrange verb
#arrange sorts a table based on a variable in ascending or descending
gapminder %>% arrange(gdpPercap)
#to display in descending order
gapminder %>% arrange(desc(gdpPercap))
#filter then arranging
gapminder %>%
filter(year == 2007) %>%
arrange(desc(gdpPercap))
max(gapminder$year)
#mutate verb
#mutate changes or adds variables
gapminder %>%
mutate(pop = pop / 1000000)
#mutate to add new variable
gapminder %>%
mutate(gdp = gdpPercap * pop)
#putting it all together - to know which country has the highest GDP in 2007
gapminder %>%
mutate(gdp = gdpPercap * pop) %>%
filter(year == 2007) %>%
arrange(desc(gdp))
nrow(unique(gapminder$country))
unique(gapminder$country)
#putting it all together - to know which country has the highest GDP in 2007
gapminder %>%
mutate(gdp = gdpPercap * pop) %>%
filter(year == 2007) %>%
arrange(desc(gdp))
#load ggplot2 library
library(ggplot2)
#variable assignment
gapminder_2007 <- gapminder %>%
filter(year == 2007)
gapminder_2007
table(gapminder$continent)
table(gapminder$continent & year == 2007)
g <- ggplot2(data = gapminder_2007, aes(x=gdpPerCap, y=lifeExp))
g <- ggplot(data = gapminder_2007, aes(x=gdpPerCap, y=lifeExp))
g + geom_point()
g <- ggplot(gapminder_2007, aes(x=gdpPerCap, y=lifeExp))
g + geom_point()
g <- ggplot(gapminder_2007, aes(x=gdpPercap, y=lifeExp))
g + geom_point()
#specifying the aesthetic
g + geom_point() + scale_x_log10()
#specifying the aesthetic
g + geom_point()
#log scales
g + geom_point() + scale_x_log10()
#log scales
g + geom_point() + scale_x_log10() + scale_y_log10()
#log scales
g + geom_point() + scale_x_log10()
#log scales
g + geom_point() + scale_x_log10()
#additional aesthetics
f <- ggplot(gapminder_2007, aes(x=gdpPercap, y=lifeExp, color=contintent))
f + geom_point() + scale_x_log10()
#additional aesthetics
f <- ggplot(gapminder_2007, aes(x=gdpPercap, y=lifeExp, color=contitent))
f + geom_point() + scale_x_log10()
#additional aesthetics
f <- ggplot(gapminder_2007, aes(x=gdpPercap, y=lifeExp, color=continent))
f + geom_point() + scale_x_log10()
#changing aesthetics
h <- ggplot(gapminder_2007, aes(x=gdpPercap, y=lifeExp, color=continent, size=pop))
h + geom_point() + scale_x_log10()
#faceting
i <- ggplot(gapminder_2007, aes(x=gdpPercap, y=lifeExp)) + geom_point() + scale_x_log10() + facet_wrap(~ continent)
#faceting
i <- ggplot(gapminder_2007, aes(x=gdpPercap, y=lifeExp)) +
geom_point() +
scale_x_log10() +
facet_wrap(~ continent)
#faceting
i <- ggplot(gapminder_2007, aes(x=gdpPercap, y=lifeExp))
i + geom_point() + scale_x_log10() + facet_wrap(~ continent)
#summarize verb
#summaizes by turning many rows into one'
gapminder %>%
sumarize(meanLifeExp = mean(lifeExp))
#summarize verb
#summaizes by turning many rows into one'
gapminder %>%
summarize(meanLifeExp = mean(lifeExp))
#summarizing by one year
gapminder %>%
filter(year == 2007) %>%
summarize(meanLifeExp = mean(lifeExp))
#summarizing into mulitple columns
gapminder %>%
filter(year == 2007) %>%
summarize(meanLifeExp = mean(lifeExp),
totalPop = sum(pop))
#group_by verb
gapminder %>%
group_by(year) %>%
summarize(meanLifeExp = mean(lifeExp),
totalPop = sum(pop))
#summarizing by continent
gapminder %>%
filter(year == 2007) %>%
group_by(continent) %>%
summarize(meanLifeExp = mean(lifeExp),
totalPop = sum(pop))
#summarizing by continent and year
gapminder %>%
group_by(year, continent) %>%
summarize(meanLifeExp = mean(lifeExp),
totalPop = sum(pop))
#visualizing summarized data
#summarizing by year
by_year <- gapminder %>%
group_by(year) %>%
summarize(totalPop = sum(pop),
meanLifeExp = mean(lifeExp))
by_year
#visualising over time
j <- ggplot(by_year, aes(x=year, y=totalPop))
j + geom_point()
#starting y-axis at zero
j + geom_point() + expand_limits(y = 0)
#summarizing by year and continent
by_year_continent <- gapminder %>%
group_by(year, continent) %>%
summarize(totalPop = sum(pop),
meanLifeExp = mean(lifeExp))
by_year_continent
#visualising  by year and continent
k <- ggplot(by_year_continent, aes(x=year, y=totalPop, color=continent))
k + geom_point() + expand_limits(y = 0)
#line plots - useful for showing change over time
#bar plot - good for comparing statistics for each of several categories
#histograms - describe distribution of a 1-dimensional variable
#boxplot - compare the distribution of a numeric variable among several categories
#scatter plot good for comparing 2 variables
#scatter vs line plot
k + geom_line()
#line plots - useful for showing change over time
#bar plot - good for comparing statistics for each of several categories
#histograms - describe distribution of a 1-dimensional variable
#boxplot - compare the distribution of a numeric variable among several categories
#scatter plot good for comparing 2 variables
#scatter vs line plot
k + geom_line() + expand_limits(y=0)
#line plots - useful for showing change over time
#bar plot - good for comparing statistics for each of several categories
#histograms - describe distribution of a 1-dimensional variable
#boxplot - compare the distribution of a numeric variable among several categories
#scatter plot good for comparing 2 variables
#scatter vs line plot
l <- ggplot(by_year_continent, aes(x=year, y=meanLifeExp, color=continent))
l + geom_line() + expand_limits(y=0)
#barplots
#useful for comparing values across discrete categories, such as continents
#summarizing by continent
by_continent <- gapminder %>%
filter(year == 2007) %>%
group_by(continent) %>%
summarize(meanLifeExp = mean(lifeExp))
by_continent
m <- ggplot(by_continent, aes(x=continent, y=meanLifeExp))
m + geom_col()
m <- ggplot(by_continent, aes(x=continent, y=meanLifeExp, color=year))
m + geom_col()
m <- ggplot(by_continent, aes(x=continent, y=meanLifeExp))
m + geom_col()
#histograms
#allows the investigation of one dimension of data at a time
#and has only one aesthetic, the x-axis
n <- ggplot(gapminder_2007, aes(x=lifeExp))
n + geom_histogram()
#customizing the width of the bin
n + geom_histogram(binwidth = 5)
#boxplots
#allows us to compare distribution against another variable
o <- ggplot(gapminder_2007, aes(x=continent, y=lifeExp)) + geom_boxplot()
#boxplots
#allows us to compare distribution against another variable
o <- ggplot(gapminder_2007, aes(x=continent, y=lifeExp))
o + geom_boxplot()
#boxplots
#allows us to compare distribution against another variable
o <- ggplot(gapminder_2007, aes(x=continent, y=lifeExp, color=continent))
o + geom_boxplot()
p <- ggplot(gapminder_2007, aes(x = continent, y = gdpPercap))
p + geom_boxplot() + scale_y_log10() +
labs(title="Comparing GDP per capita across continents")
p <- ggplot(gapminder_2007, aes(x = continent, y = gdpPercap, color=continent))
p + geom_boxplot() + scale_y_log10() +
labs(title="Comparing GDP per capita across continents")
